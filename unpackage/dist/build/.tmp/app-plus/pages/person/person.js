(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/person/person"],{1151:function(t,n,e){"use strict";var o=e("94ff"),a=e.n(o);a.a},"17e7":function(t,n,e){"use strict";e.r(n);var o=e("ef08"),a=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);n["default"]=a.a},2984:function(t,n,e){"use strict";e.r(n);var o=e("d5ac"),a=e("17e7");for(var r in a)"default"!==r&&function(t){e.d(n,t,function(){return a[t]})}(r);e("1151");var i=e("2877"),u=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,null,null);n["default"]=u.exports},"94ff":function(t,n,e){},d5ac:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=(t._self._c,{"background-color":"#fff"});t.$mp.data=Object.assign({},{$root:{a0:e}})},a=[];e.d(n,"a",function(){return o}),e.d(n,"b",function(){return a})},ef08:function(t,n,e){"use strict";(function(t,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=r(e("a34a"));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n,e,o,a,r,i){try{var u=t[r](i),s=u.value}catch(c){return void e(c)}u.done?n(s):Promise.resolve(s).then(o,a)}function u(t){return function(){var n=this,e=arguments;return new Promise(function(o,a){var r=t.apply(n,e);function u(t){i(r,o,a,u,s,"next",t)}function s(t){i(r,o,a,u,s,"throw",t)}u(void 0)})}}var s=function(){return e.e("components/uni-popup/uni-popup").then(e.bind(null,"75c8"))},c=function(){return e.e("components/cmd-avatar/cmd-avatar").then(e.bind(null,"0e08"))},l=function(){return e.e("components/cmd-icon/cmd-icon").then(e.bind(null,"3560"))},d=function(){return e.e("components/cmd-cell-item/cmd-cell-item").then(e.bind(null,"329f"))},f=function(){return e.e("components/uni-nav-bar/uni-nav-bar").then(e.bind(null,"b339"))},p={components:{cmdAvatar:c,cmdCellItem:d,cmdIcon:l,uniNavBar:f,uniPopup:s},data:function(){return{text:"uni-app",url:"",list:[{title:"余额",addon:"0",url:"wallet"},{title:"同住人",addon:"",url:"people"},{title:"版本更新",addon:"v1.0",url:"version"},{title:"关于我们",addon:"",url:"about"},{title:"联系我们",addon:"",url:"contact"}],information:{},versionCode:"1.0",type:"",apkUrl:"",content:"",background:"#099c99"}},onShow:function(){this.myinfo(),this.loading(),t.startPullDownRefresh()},methods:{myinfo:function(){var t=u(a.default.mark(function t(){var n,e,o,r;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=this,t.next=3,this.util.request({url:"/etenantsvr/myModule/queryPersonalInfoDetail",method:"post",data:{userId:n.$store.state.id}});case 3:e=t.sent,o=e.data.obj,this.information=o,r=/^(\d{3})\d*(\d{4})$/,this.information.tenantPhone=this.information.tenantPhone.replace(r,"$1****$2"),parseInt(this.$store.state.obj.identityNumber.substr(16,1))%2==1?(this.url="../../static/other/pretendfri_boy_light.png",this.background="#099c99"):(this.url="../../static/other/pretendfri_girl_light.png",this.background="#9E5173");case 9:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),loading:function(){var t=u(a.default.mark(function t(){var n;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.util.request({url:"/etenantsvr/myModule/queryAccountBalance",method:"post",data:{identityCardNo:this.$store.state.obj.identityNumber}});case 2:n=t.sent,0==n.code&&(this.list[0].addon=n.data.obj.balance);case 4:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),onPullDownRefresh:function(){setTimeout(function(){t.stopPullDownRefresh()},1e3)},AndroidCheckUpdate:function(){var t=u(a.default.mark(function t(){var n;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.util.request({url:"/etenantsvr/version/queryVersionUpdateContent",method:"post",data:{}});case 2:n=t.sent,0==n.code&&n.data.obj.versionCode>this.versionCode&&(this.content=n.data.obj.content,this.apkUrl=n.data.obj.apkUrl,this.explain("explain"));case 4:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),download:function(){t.showToast({title:"新版本下载完成后将自动弹出安装程序",mask:!1,duration:5e3,icon:"none"}),this.explain("");var n=plus.downloader.createDownload(this.apkUrl,{},function(n,e){console.log(o(n," at pages\\person\\person.vue:152")),200==e?plus.runtime.install(plus.io.convertLocalFileSystemURL(n.filename),{},{},function(n){t.showToast({title:"更新失败！",mask:!1,icon:"none",duration:1500})}):t.showToast({title:"更新失败！",mask:!1,icon:"none",duration:1500})});n.start()},explain:function(t){this.type=t},goSetting:function(n){t.navigateTo({url:"/pages/ohter/setting"})},goDetailPage:function(n){var e=this;"version"==n?t.getSystemInfo({success:function(n){console.log(o(n.platform," at pages\\person\\person.vue:186")),"android"==n.platform?(t.showLoading({title:"正在检查更新.."}),e.AndroidCheckUpdate()):t.showToast({title:"请去appStore查看",duration:2e3,icon:"none"})}}):t.navigateTo({url:"/pages/ohter/"+n})},fnInfoWin:function(){t.navigateTo({url:"myInformation"})}}};n.default=p}).call(this,e("6e42")["default"],e("0de9")["default"])}},[["cf91","common/runtime","common/vendor"]]]);