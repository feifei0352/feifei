(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"2a3d":function(e,t,n){"use strict";var r=n("4d71"),o=n.n(r);o.a},"2c1e":function(e,t,n){"use strict";n.r(t);var r=n("e59e"),o=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);t["default"]=o.a},"4d71":function(e,t,n){},"92ee":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},a2dd:function(e,t,n){"use strict";n.r(t);var r=n("92ee"),o=n("2c1e");for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);n("2a3d");var i=n("2877"),c=Object(i["a"])(o["default"],r["a"],r["b"],!1,null,null,null);t["default"]=c.exports},e59e:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n("a34a")),a=n("83b7"),i=n("2f62"),c=u(n("2001"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,c,"next",e)}function c(e){s(a,r,o,i,c,"throw",e)}i(void 0)})}}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h="abcdefgabcdefg12",p={data:function(){return{btn_color:"#099C99",opacity:.3,phone:"",idcard:"",sendMsg:"发送验证码",isCanSendCode:!0,code:"",obj:{}}},computed:{},methods:l({onLoad:function(){},decrypt:function(e){var t=e.replace(/\-/g,"+").replace(/_/g,"/"),n={mode:c.default.mode.ECB,padding:c.default.pad.Pkcs7},r=c.default.enc.Utf8.parse(h),o=c.default.AES.decrypt(t,r,n),a=c.default.enc.Utf8.stringify(o);return a}},(0,i.mapMutations)(["logout"]),{encrypt:function(e){e=e;var t={mode:c.default.mode.ECB,padding:c.default.pad.Pkcs7},n=c.default.enc.Utf8.parse("CRYPTOJSKEY"),r=c.default.AES.encrypt(e,n,t),o=r.toString();return o},setCodeInterval:function(){var e=this,t=60;clearInterval(timer),timer=setInterval(function(){t--,e.isCanSendCode=!1,e.sendMsg=t+"s",t<=0&&(e.isCanSendCode=!0,e.sendMsg="重新获取",clearInterval(timer))},1e3)},clearCodeInterval:function(){clearInterval(timer),this.codemsg="获取验证码"},sendCode:function(){var t=d(o.default.mark(function t(){var n,r,i,u;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if((0,a.checkPhone)(this.phone)){t.next=2;break}return t.abrupt("return");case 2:if("发送验证码"!=this.sendMsg&&"重新获取"!=this.sendMsg){t.next=5;break}t.next=6;break;case 5:return t.abrupt("return",!1);case 6:return t.next=8,this.util.request({url:"/lianjiauser/getcode",method:"post",data:{phone:this.phone,phoneMd:c.default.MD5(this.phone+"hjhdf423retSDJH32sdf").toString()}});case 8:n=t.sent,0==n.code&&(r=60,this.sendMsg=r+"秒",i=this,u=setInterval(function(){r<=0?(console.log(e(1," at pages\\login\\login.vue:174")),i.sendMsg="重新获取",setTimeout(function(){clearInterval(u)})):(i.sendMsg=r+"秒",r--)},1e3));case 10:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),submit:function(){var t=d(o.default.mark(function t(){var n,i;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if((0,a.checkIdCard)(this.idcard)){t.next=2;break}return t.abrupt("return");case 2:if((0,a.checkPhone)(this.phone)){t.next=4;break}return t.abrupt("return");case 4:if((0,a.checkCode)(this.code)){t.next=6;break}return t.abrupt("return");case 6:return r.showLoading(),n=this,t.next=10,this.util.request({url:"/lianjiauser/user/codeLogin",method:"post",data:{secretStr:"abcdefgabcdefg12",identityNumber:this.idcard,phone:this.phone,code:this.code}});case 10:i=t.sent,0==i.code&&(console.log(e(i.data.obj," at pages\\login\\login.vue:211")),n.obj=JSON.parse(n.decrypt(i.data.obj)),this.$store.commit("update",["isLogin",!0,"1","2","3"]),this.$store.commit("login",this.obj),r.setStorage({key:"login_info",data:this.obj,success:function(){r.showToast({title:"登录成功！",duration:2e3})}}),r.setStorage({key:"launchFlag",data:!0}),r.reLaunch({url:"/pages/index/index"}));case 12:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),agreement:function(){r.navigateTo({url:"agreement"})}}),watch:{phone:function(e){""!=e?(this.btn_color="#11D6D3",this.opacity=1):(this.btn_color="#099C99",this.opacity=.3)},idcard:function(e){""!=e?(this.btn_color="#11D6D3",this.opacity=1):(this.btn_color="#099C99",this.opacity=.3)},code:function(e){""!=e?(this.btn_color="#11D6D3",this.opacity=1):(this.btn_color="#099C99",this.opacity=.3)}}};t.default=p}).call(this,n("0de9")["default"],n("6e42")["default"])}},[["bfcb","common/runtime","common/vendor"]]]);